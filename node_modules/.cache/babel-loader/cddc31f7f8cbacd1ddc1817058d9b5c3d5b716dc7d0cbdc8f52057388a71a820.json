{"ast":null,"code":"import _objectSpread from\"/Users/starteyapais/Documents/SolicitedSpray/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/pages/ContactPage.js\nimport React,{useState}from'react';import{Link}from'react-router-dom';import styles from'./ContactPage.module.css';// Import the CSS file\nimport axios from'axios';import ReCAPTCHA from'react-google-recaptcha';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ContactPage(){const[formData,setFormData]=useState({name:'',email:'',comments:''});// Handle form input changes\nconst handleChange=e=>{const{name,value}=e.target;setFormData(_objectSpread(_objectSpread({},formData),{},{[name]:value}));};const[captchaToken,setCaptchaToken]=useState(null);const[statusMessage,setStatusMessage]=useState('');const[statusError,setStatusError]=useState('');// Handle reCAPTCHA verification\nconst handleCaptchaChange=token=>{setCaptchaToken(token);};const[loading,setLoading]=useState(false);const handleSubmit=async e=>{e.preventDefault();// Check if captcha is solved\nif(!captchaToken){setStatusError('Please complete the reCAPTCHA.');return;}setLoading(true);try{// Send form data to backend API\nconst response=await axios.post(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/api/contact\"),_objectSpread(_objectSpread({},formData),{},{captchaToken}));console.log('Form submitted:',response.data);// Reset the form\nsetFormData({name:'',email:'',comments:''});setCaptchaToken(null);// Reset reCAPTCHA\nif(window.grecaptcha&&window.grecaptcha.reset){window.grecaptcha.reset();}// Update status message\nsetStatusMessage('Thank you for your message! We will get back to you soon.');setStatusError('');}catch(error){console.error('Error submitting form:',error);// Check if it's a validation error\nif(error.response&&error.response.status===400){const errors=error.response.data.errors;// Extract and display validation errors\nconst errorMessages=errors.map(err=>err.msg).join(' ');setStatusError(\"Validation Error: \".concat(errorMessages));}else{setStatusError('There was an error submitting the form. Please try again later.');}setStatusMessage('');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:styles.contactPage,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.topLinks,children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.mainContent,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Contact\"}),/*#__PURE__*/_jsx(\"p\",{children:\"If you have any questions, concerns, suggestions, etc., please feel free to contact using the form below! Supplying an email address is optional, but if you'd like a follow-up/reply, please provide yours.\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"em\",{children:\"No marketing or other solicitation!\"})}),statusMessage&&/*#__PURE__*/_jsx(\"div\",{className:styles.statusMessage,children:statusMessage}),statusError&&/*#__PURE__*/_jsx(\"div\",{className:styles.errorMessage,children:statusError}),/*#__PURE__*/_jsxs(\"form\",{className:styles.contactForm,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",placeholder:\"Your Name\",value:formData.name,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.formGroup,children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"email\",children:[\"Email: \",/*#__PURE__*/_jsx(\"span\",{className:\"optional\",children:\"(Optional)\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Enter your email address (Optional)\",value:formData.email,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"comments\",children:\"Comments:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"comments\",name:\"comments\",placeholder:\"Comments? Questions? Issues? Suggestions?\",value:formData.comments,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.formGroup,children:/*#__PURE__*/_jsx(ReCAPTCHA,{sitekey:process.env.REACT_APP_RECAPTCHA_SITE_KEY,onChange:handleCaptchaChange})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:styles.submitButton,disabled:loading,children:loading?'Submitting...ff':'Submit'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.bottomLinks,children:[/*#__PURE__*/_jsx(Link,{to:\"/contact\",children:\"Contact\"}),/*#__PURE__*/_jsx(Link,{to:\"/privacy\",children:\"Privacy\"})]})]});}export default ContactPage;","map":{"version":3,"names":["React","useState","Link","styles","axios","ReCAPTCHA","jsx","_jsx","jsxs","_jsxs","ContactPage","formData","setFormData","name","email","comments","handleChange","e","value","target","_objectSpread","captchaToken","setCaptchaToken","statusMessage","setStatusMessage","statusError","setStatusError","handleCaptchaChange","token","loading","setLoading","handleSubmit","preventDefault","response","post","concat","process","env","REACT_APP_API_BASE_URL","console","log","data","window","grecaptcha","reset","error","status","errors","errorMessages","map","err","msg","join","className","contactPage","children","topLinks","to","mainContent","errorMessage","contactForm","onSubmit","formGroup","htmlFor","type","id","placeholder","onChange","required","sitekey","REACT_APP_RECAPTCHA_SITE_KEY","submitButton","disabled","bottomLinks"],"sources":["/Users/starteyapais/Documents/SolicitedSpray/frontend/src/pages/ContactPage.js"],"sourcesContent":["// src/pages/ContactPage.js\n\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './ContactPage.module.css'; // Import the CSS file\nimport axios from 'axios'; \nimport ReCAPTCHA from 'react-google-recaptcha';\n\n\n\nfunction ContactPage() {\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    comments: '',\n  });\n\n  // Handle form input changes\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n      const [captchaToken, setCaptchaToken] = useState(null);\nconst [statusMessage, setStatusMessage] = useState('');\n  const [statusError, setStatusError] = useState('');\n\n      // Handle reCAPTCHA verification\n  const handleCaptchaChange = (token) => {\n    setCaptchaToken(token);\n  };\n\n    const [loading, setLoading] = useState(false);\n    \n  const handleSubmit = async (e) => {\n    e.preventDefault();\n      // Check if captcha is solved\n    if (!captchaToken) {\n      setStatusError('Please complete the reCAPTCHA.');\n      return;\n    }\n      \n      setLoading(true);\n    try {\n      // Send form data to backend API\n      const response = await axios.post(`${process.env.REACT_APP_API_BASE_URL}/api/contact`, { ...formData, captchaToken });\n      console.log('Form submitted:', response.data);\n      // Reset the form\n      setFormData({ name: '', email: '', comments: '' });\n        \n        setCaptchaToken(null);\n      // Reset reCAPTCHA\n      if (window.grecaptcha && window.grecaptcha.reset) {\n        window.grecaptcha.reset();\n      }\n      // Update status message\n      setStatusMessage('Thank you for your message! We will get back to you soon.');\n      setStatusError('');\n    } catch (error) {\n      console.error('Error submitting form:', error);\n      // Check if it's a validation error\n      if (error.response && error.response.status === 400) {\n        const errors = error.response.data.errors;\n        // Extract and display validation errors\n        const errorMessages = errors.map((err) => err.msg).join(' ');\n        setStatusError(`Validation Error: ${errorMessages}`);\n      } else {\n        setStatusError('There was an error submitting the form. Please try again later.');\n      }\n      setStatusMessage('');\n    }\n      finally {\n          setLoading(false);\n      }\n  };\n\n  return (\n     \n\n    <div className={styles.contactPage}>\n      {/* Top Links */}\n      <div className={styles.topLinks}>\n        <Link to=\"/\">Home</Link>\n      {/*<Link to=\"/add-video\">Add Your Video</Link>*/}\n      </div>\n\n      {/* Main Content */}\n      <div className={styles.mainContent}>\n        <h1>Contact</h1>\n        <p>\n          If you have any questions, concerns, suggestions, etc., please feel free to contact using the form below! Supplying an email address is optional, but if you'd like a follow-up/reply, please provide yours.\n        </p>\n        <p><em>No marketing or other solicitation!</em></p>\n      \n      {/* Display status messages */}\n      {statusMessage && <div className={styles.statusMessage}>{statusMessage}</div>}\n      {statusError && <div className={styles.errorMessage}>{statusError}</div>}\n\n        {/* Contact Form */}\n        <form className={styles.contactForm} onSubmit={handleSubmit}>\n          {/* Name Field */}\n          <div className={styles.formGroup}>\n            <label htmlFor=\"name\">Name:</label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              name=\"name\"\n              placeholder=\"Your Name\"\n              value={formData.name}\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          {/* Email Field (Optional) */}\n          <div className={styles.formGroup}>\n            <label htmlFor=\"email\">Email: <span className=\"optional\">(Optional)</span></label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              placeholder=\"Enter your email address (Optional)\"\n              value={formData.email}\n              onChange={handleChange}\n            />\n          </div>\n\n          {/* Comments Field */}\n          <div className={styles.formGroup}>\n            <label htmlFor=\"comments\">Comments:</label>\n            <textarea\n              id=\"comments\"\n              name=\"comments\"\n              placeholder=\"Comments? Questions? Issues? Suggestions?\"\n              value={formData.comments}\n              onChange={handleChange}\n              required\n            ></textarea>\n          </div>\n    \n        {/* reCAPTCHA */}\n          <div className={styles.formGroup}>\n            <ReCAPTCHA\n              sitekey={process.env.REACT_APP_RECAPTCHA_SITE_KEY}\n              onChange={handleCaptchaChange}\n            />\n          </div>\n    \n          {/* Submit Button */}\n          <button type=\"submit\" className={styles.submitButton} disabled={loading}>{loading ? 'Submitting...ff' : 'Submit'}</button>\n        </form>\n      </div>\n\n      {/* Bottom Links */}\n      <div className={styles.bottomLinks}>\n        <Link to=\"/contact\">Contact</Link>\n        <Link to=\"/privacy\">Privacy</Link>\n      </div>\n    </div>\n  );\n}\n\nexport default ContactPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}